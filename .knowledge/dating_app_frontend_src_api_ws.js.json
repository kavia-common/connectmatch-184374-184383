{"is_source_file": true, "format": "JavaScript", "description": "This file implements a lightweight WebSocket client with fallback options, including functions to create, connect, send messages, subscribe to incoming messages, and close the WebSocket connection. It is used to facilitate real-time communication in a React-based web application.", "external_files": ["../utils/env"], "external_methods": ["getEnv", "isFeatureEnabled"], "published": ["createWsClient"], "classes": [], "methods": [{"name": "createWsClient(options = {})", "description": "Creates a WebSocket client instance with configurable options, handling connection lifecycle, message subscription, and message sending.", "scope": "", "scopeKind": ""}, {"name": "connect()", "description": "Establishes a WebSocket connection if one isn't already active and if environments support it.", "scope": "createWsClient", "scopeKind": "function"}, {"name": "send(payload)", "description": "Sends a message over the WebSocket connection, serializing objects to JSON if necessary.", "scope": "createWsClient", "scopeKind": "function"}, {"name": "subscribe(handler)", "description": "Registers a callback to be called when a message is received; returns an unsubscribe function.", "scope": "createWsClient", "scopeKind": "function"}, {"name": "close(code, reason)", "description": "Closes the WebSocket connection gracefully.", "scope": "createWsClient", "scopeKind": "function"}, {"name": "hasWebSocket()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "logDebug(...args)", "scope": "createWsClient", "scopeKind": "function", "description": "unavailable"}], "calls": ["getEnv", "isFeatureEnabled", "joinUrl", "console.debug"], "search-terms": ["WebSocket client", "subscribe", "send messages", "react WebSocket", "fallback WebSocket", "realtime communication"], "state": 2, "file_id": 18, "knowledge_revision": 42, "git_revision": "", "ctags": [{"_type": "tag", "name": "close", "path": "/home/kavia/workspace/code-generation/connectmatch-184374-184383/dating_app_frontend/src/api/ws.js", "pattern": "/^  function close(code, reason) {$/", "language": "JavaScript", "kind": "function", "signature": "(code, reason)", "scope": "createWsClient", "scopeKind": "function"}, {"_type": "tag", "name": "connect", "path": "/home/kavia/workspace/code-generation/connectmatch-184374-184383/dating_app_frontend/src/api/ws.js", "pattern": "/^  function connect() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "createWsClient", "scopeKind": "function"}, {"_type": "tag", "name": "createWsClient", "path": "/home/kavia/workspace/code-generation/connectmatch-184374-184383/dating_app_frontend/src/api/ws.js", "pattern": "/^export function createWsClient(options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(options = {})"}, {"_type": "tag", "name": "hasWebSocket", "path": "/home/kavia/workspace/code-generation/connectmatch-184374-184383/dating_app_frontend/src/api/ws.js", "pattern": "/^function hasWebSocket() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "logDebug", "path": "/home/kavia/workspace/code-generation/connectmatch-184374-184383/dating_app_frontend/src/api/ws.js", "pattern": "/^  function logDebug(...args) {$/", "language": "JavaScript", "kind": "function", "signature": "(...args)", "scope": "createWsClient", "scopeKind": "function"}, {"_type": "tag", "name": "send", "path": "/home/kavia/workspace/code-generation/connectmatch-184374-184383/dating_app_frontend/src/api/ws.js", "pattern": "/^  function send(payload) {$/", "language": "JavaScript", "kind": "function", "signature": "(payload)", "scope": "createWsClient", "scopeKind": "function"}, {"_type": "tag", "name": "subscribe", "path": "/home/kavia/workspace/code-generation/connectmatch-184374-184383/dating_app_frontend/src/api/ws.js", "pattern": "/^  function subscribe(handler) {$/", "language": "JavaScript", "kind": "function", "signature": "(handler)", "scope": "createWsClient", "scopeKind": "function"}], "hash": "6d42e810341cd28aad52ed83d320b874", "format-version": 4, "code-base-name": "dating_app_frontend", "filename": "dating_app_frontend/src/api/ws.js", "revision_history": [{"42": ""}]}